(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52a382da"],{"5bfb":function(t,e,s){"use strict";var i=s("8950"),a=s.n(i);a.a},"68f8":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"file"},[s("div",{ref:t.imgId,staticClass:"uploadLabel",class:{uploaded:"uploaded"===t.cloneUploadStatus,uploading:"uploading"===t.cloneUploadStatus,video:"file4"===t.inputId},on:{click:function(e){return t.browseFileWindow(t.inputId)}}},[s("button",{directives:[{name:"show",rawName:"v-show",value:"uploaded"===t.cloneUploadStatus,expression:"cloneUploadStatus === 'uploaded'"}],staticClass:"initialFile",on:{click:function(e){return e.stopPropagation(),t.initialUploadedFile(e)}}}),s("div",{staticClass:"uploadContent"},[s("span",{directives:[{name:"show",rawName:"v-show",value:"uploaded"!==t.cloneUploadStatus,expression:"cloneUploadStatus !== 'uploaded'"}],ref:t.thumbId},[t._v(t._s(t.thumbText))]),s("progress",{directives:[{name:"show",rawName:"v-show",value:t.progressShow,expression:"progressShow"}],staticClass:"progress is-primary",attrs:{max:"100"},domProps:{value:t.progress}},[t._v(t._s(t.progress))])])]),s("input",{ref:t.inputId,staticClass:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:t.uploadType},on:{change:function(e){return t.onFileChange(e,t.imgId,0)}}})])},a=[],o=s("a178"),l={name:"FileUpload",props:["uploadType","inputId","imgId","thumbId","uploadStatus"],data(){return{file:"",fileList:[],policy:"",status:this.uploadStatus,thumbText:"",progress:"",progressShow:!1}},computed:{cloneUploadStatus:{get(){return this.uploadStatus},set(t){this.$emit("update:uploadStatus",t)}}},mounted(){"file4"===this.inputId?this.thumbText="影片":this.thumbText="照片"},methods:{browseFileWindow(t){this.$refs[t].click()},initialUploadedFile(){this.cloneUploadStatus="default",this.$refs[this.imgId].style.backgroundImage="",this.$refs[this.inputId].value=""},async onFileChange(t,e,s){if(this.file=t.target.files[0],!this.file)return this.initialUploadedFile(),void(this.progressShow=!1);{this.cloneUploadStatus="default",this.$refs[this.imgId].style.backgroundImage="",this.progress="0";let t=this;if(this.file.size>10485760)return void alert("File upload 10MB limit");this.progressShow=!0,this.cloneUploadStatus="uploading";let s=o["a"].storage.ref((new Date).getTime()+this.file.name);s.put(this.file).then(function(s){if(t.file){let s=new FileReader;s.onload=function(s){"photo4"!==e&&(t.$refs[e].style.backgroundImage="url("+s.target.result+")"),t.cloneUploadStatus="uploaded",t.progressShow=!1,t.progress=0,t.$emit("progressShow",!1)},s.readAsDataURL(t.file)}})}}}},n=l,r=(s("5bfb"),s("2877")),u=Object(r["a"])(n,i,a,!1,null,"7893b567",null);e["default"]=u.exports},8950:function(t,e,s){}}]);
//# sourceMappingURL=chunk-52a382da.1724ed2d.js.map